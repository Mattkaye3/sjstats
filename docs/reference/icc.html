<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Intraclass-Correlation Coefficient — icc • sjstats</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Intraclass-Correlation Coefficient — icc" />

<meta property="og:description" content="This function calculates the intraclass-correlation
   (icc) - sometimes also called variance partition coefficient
   (vpc) - for random intercepts of mixed effects models. Currently,
   merMod, glmmTMB,
   stanreg and brmsfit objects are supported." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sjstats</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.16.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/anova-statistics.html">Statistics for Anova Tables</a>
    </li>
    <li>
      <a href="../articles/bayesian-statistics.html">Statistics for Bayesian Models</a>
    </li>
    <li>
      <a href="../articles/mixedmodels-statistics.html">Statistics for Mixed Effects Models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/strengejacke/sjstats">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Intraclass-Correlation Coefficient</h1>
    <small class="dont-index">Source: <a href='https://github.com/strengejacke/sjstats/blob/master/R/icc.R'><code>R/icc.R</code></a></small>
    <div class="hidden name"><code>icc.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function calculates the intraclass-correlation
   (icc) - sometimes also called <em>variance partition coefficient</em>
   (vpc) - for random intercepts of mixed effects models. Currently,
   <code><a href='http://www.rdocumentation.org/packages/lme4/topics/merMod-class'>merMod</a></code>, <code><a href='http://www.rdocumentation.org/packages/glmmTMB/topics/glmmTMB'>glmmTMB</a></code>,
   <code>stanreg</code> and <code><a href='http://www.rdocumentation.org/packages/brms/topics/brmsfit-class'>brmsfit</a></code> objects are supported.</p>
    
    </div>

    <pre class="usage"><span class='fu'>icc</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>icc</span>(<span class='no'>x</span>, <span class='kw'>re.form</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>typical</span> <span class='kw'>=</span> <span class='st'>"mean"</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.89</span>,
  <span class='kw'>ppd</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for brmsfit</span>
<span class='fu'>icc</span>(<span class='no'>x</span>, <span class='kw'>re.form</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>typical</span> <span class='kw'>=</span> <span class='st'>"mean"</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.89</span>,
  <span class='kw'>ppd</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Fitted mixed effects model (of class <code>merMod</code>, <code>glmmTMB</code>,
<code>stanreg</code> or <code>brmsfit</code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Currently not used.</p></td>
    </tr>
    <tr>
      <th>re.form</th>
      <td><p>Formula containing group-level effects to be considered in
the prediction. If <code>NULL</code> (default), include all group-level effects.
Else, for instance for nested models, name a specific group-level effect
to calculate the ICC for this group-level. Only applies if <code>ppd = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>typical</th>
      <td><p>Character vector, naming the function that will be used as
measure of central tendency for the ICC. The default is "mean". See
<code>typical_value</code> for options.</p></td>
    </tr>
    <tr>
      <th>prob</th>
      <td><p>Vector of scalars between 0 and 1, indicating the mass within
the credible interval that is to be estimated. See <code><a href='hdi.html'>hdi</a></code>.</p></td>
    </tr>
    <tr>
      <th>ppd</th>
      <td><p>Logical, if <code>TRUE</code>, variance decomposition is based on the
posterior predictive distribution, which is the correct way for Bayesian
non-Gaussian models.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A numeric vector with all random intercept intraclass-correlation-coefficients.
   Furthermore, between- and within-group variances as well as random-slope
   variance are returned as attributes.
   <br /> <br />
   For <code>stanreg</code> or <code>brmsfit</code> objects, the HDI for each statistic
   is also  included as attribute.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The ICC is calculated by dividing the between-group-variance (random
  intercept variance) by the total variance (i.e. sum of between-group-variance
  and within-group (residual) variance). <br /> <br />
  The calculation of the ICC for generalized linear mixed models with binary outcome is based on
  <cite>Wu et al. (2012)</cite>. For Poisson multilevel models, please refer to <cite>Stryhn et al. (2006)</cite>.
  <cite>Aly et al. (2014)</cite> describe computation of ICC for negative binomial models.
  <br /> <br />
  <strong>Caution:</strong> For models with random slopes and random intercepts,
  the ICC would differ at each unit of the predictors. Hence, the ICC for these
  kind of models cannot be understood simply as proportion of variance
  (see <cite>Goldstein et al. 2010</cite>). For convenience reasons, as the
  <code>icc()</code> function also extracts the different random effects
  variances, the ICC for random-slope-intercept-models is reported
  nonetheless, but it is usually no meaningful summary of the
  proportion of variances.
  <br /> <br />
  The random effect variances indicate the between- and within-group
  variances as well as random-slope variance and random-slope-intercept
  correlation. The components are denoted as following:</p><ul>
<li><p>Within-group (residual) variance: sigma_2</p></li>
<li><p>Between-group-variance: tau.00 (variation between individual intercepts and average intercept)</p></li>
<li><p>Random-slope-variance: tau.11 (variation between individual slopes and average slope)</p></li>
<li><p>Random-Intercept-Slope-covariance: tau.01</p></li>
<li><p>Random-Intercept-Slope-correlation: rho.01</p></li>
</ul><p>If <code>ppd = TRUE</code>, <code>icc()</code> calculates a variance decomposition based on
  the posterior predictive distribution. In this case, first, the draws from
  the posterior predictive distribution <em>not conditioned</em> on group-level
  terms (<code>posterior_predict(..., re.form = NA)</code>) are calculated as well
  as draws from this distribution <em>conditioned</em> on <em>all random effects</em>
  (by default, unless specified else in <code>re.form</code>) are taken. Then, second,
  the variances for each of these draws are calculated. The "ICC" is then the
  ratio between these two variances. This is the recommended way to
  analyse random-effect-variances for non-Gaussian models. It is then possible
  to compare variances accross models, also by specifying different group-level
  terms via the <code>re.form</code>-argument.
  <br /> <br />
  Sometimes, when the variance of the posterior predictive distribution is
  very large, the variance ratio in the output makes no sense, e.g. because
  it is negative. In such cases, it might help to use a more robust measure
  to calculate the central tendency of the variances. For example, use
  <code>typical = "median"</code>.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Some notes on why the ICC is useful, based on <cite>Grace-Martin</cite>:</p><ul>
<li><p>It can help you determine whether or not a linear mixed model is even necessary. If you find that the correlation is zero, that means the observations within clusters are no more similar than observations from different clusters. Go ahead and use a simpler analysis technique.</p></li>
<li><p>It can be theoretically meaningful to understand how much of the overall variation in the response is explained simply by clustering. For example, in a repeated measures psychological study you can tell to what extent mood is a trait (varies among people, but not within a person on different occasions) or state (varies little on average among people, but varies a lot across occasions).</p></li>
<li><p>It can also be meaningful to see how the ICC (as well as the between and within cluster variances) changes as variable are added to the model.</p></li>
</ul><p>In short, the ICC can be interpreted as &#8220;the proportion of the variance
      explained by the grouping structure in the population&#8221; <cite>(Hox 2002: 15)</cite>.
      <br /> <br />
      Usually, the ICC is calculated for the null model ("unconditional model").
      However, according to <cite>Raudenbush and Bryk (2002)</cite> or
      <cite>Rabe-Hesketh and Skrondal (2012)</cite> it is also feasible to compute the ICC
      for full models with covariates ("conditional models") and compare how
      much a level-2 variable explains the portion of variation in the grouping
      structure (random intercept).
      <br /> <br />
      <strong>Caution:</strong> For three-level-models, depending on the nested structure
      of the model, the ICC only reports the proportion of variance explained
      for each grouping level. However, the proportion of variance for specific
      levels related to each other (e.g., similarity of level-1-units within
      level-2-units or level-2-units within level-3-units) must be computed
      manually. Use <code><a href='re_var.html'>get_re_var</a></code> to get the between-group-variances
      and residual variance of the model, and calculate the ICC for the various level
      correlations.
      <br /> <br />
      For example, for the ICC between level 1 and 2: <br />
      <code>sum(get_re_var(fit)) / (sum(get_re_var(fit)) + get_re_var(fit, "sigma_2"))</code>
      <br /> <br />
      or for the ICC between level 2 and 3: <br />
      <code>get_re_var(fit)[2] / sum(get_re_var(fit))</code></p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <ul>
<li><p>Aguinis H, Gottfredson RK, Culpepper SA. 2013. Best-Practice Recommendations for Estimating Cross-Level Interaction Effects Using Multilevel Modeling. Journal of Management 39(6): 1490–1528 (doi: <a href='http://doi.org/10.1177/0149206313478188'>10.1177/0149206313478188</a>
)</p></li>
<li><p>Aly SS, Zhao J, Li B, Jiang J. 2014. Reliability of environmental sampling culture results using the negative binomial intraclass correlation coefficient. Springerplus 14(3) (doi: <a href='http://doi.org/10.1186/2193-1801-3-40'>10.1186/2193-1801-3-40</a>
)</p></li>
<li><p>Goldstein H, Browne W, Rasbash J. 2010. Partitioning Variation in Multilevel Models. Understanding Statistics, 1:4, 223-231 (doi: <a href='http://doi.org/10.1207/S15328031US0104_02'>10.1207/S15328031US0104_02</a>
)</p></li>
<li><p>Grace-Martion K. The Intraclass Correlation Coefficient in Mixed Models, <a href='http://www.theanalysisfactor.com/the-intraclass-correlation-coefficient-in-mixed-models/'>web</a></p></li>
<li><p>Hox J. 2002. Multilevel analysis: techniques and applications. Mahwah, NJ: Erlbaum</p></li>
<li><p>Rabe-Hesketh S, Skrondal A. 2012. Multilevel and longitudinal modeling using Stata. 3rd ed. College Station, Tex: Stata Press Publication</p></li>
<li><p>Raudenbush SW, Bryk AS. 2002. Hierarchical linear models: applications and data analysis methods. 2nd ed. Thousand Oaks: Sage Publications</p></li>
<li><p>Stryhn H, Sanchez J, Morley P, Booker C, Dohoo IR. 2006. Interpretation of variance parameters in multilevel Poisson regression models. Proceedings of the 11th International Symposium on Veterinary Epidemiology and Economics, 2006 Available at <a href='http://www.sciquest.org.nz/node/64294'>http://www.sciquest.org.nz/node/64294</a></p></li>
<li><p>Wu S, Crespi CM, Wong WK. 2012. Comparison of methods for estimating the intraclass correlation coefficient for binary responses in cancer prevention cluster randomized trials. Contempory Clinical Trials 33: 869-880 (doi: <a href='http://doi.org/10.1016/j.cct.2012.05.004'>10.1016/j.cct.2012.05.004</a>
)</p></li>
</ul><p>Further helpful online-ressources:</p><ul>
<li><p><a href='http://stats.stackexchange.com/questions/18088/intraclass-correlation-icc-for-an-interaction/28100#28100'>CrossValidated (2012) <em>Intraclass correlation (ICC) for an interaction?</em></a></p></li>
<li><p><a href='http://stats.stackexchange.com/questions/113577/interpreting-the-random-effect-in-a-mixed-effect-model/113825#113825'>CrossValidated (2014) <em>Interpreting the random effect in a mixed-effect model</em></a></p></li>
<li><p><a href='http://stats.stackexchange.com/questions/67247/how-to-partition-the-variance-explained-at-group-level-and-individual-level/67356#67356'>CrossValidated (2014) <em>how to partition the variance explained at group level and individual level</em></a></p></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='re_var.html'>re_var</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>lme4</span>)
<span class='no'>fit0</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/lme4/topics/lmer'>lmer</a></span>(<span class='no'>Reaction</span> ~ <span class='fl'>1</span> + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>Subject</span>), <span class='no'>sleepstudy</span>)
<span class='fu'>icc</span>(<span class='no'>fit0</span>)</div><div class='output co'>#&gt; 
#&gt; Linear mixed model
#&gt;  Family: gaussian (identity)
#&gt; Formula: Reaction ~ 1 + (1 | Subject)
#&gt; 
#&gt;   ICC (Subject): 0.394890</div><div class='input'>
<span class='co'># note: ICC for random-slope-intercept model usually not</span>
<span class='co'># meaningful - see 'Note'.</span>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/lme4/topics/lmer'>lmer</a></span>(<span class='no'>Reaction</span> ~ <span class='no'>Days</span> + (<span class='no'>Days</span> <span class='kw'>|</span> <span class='no'>Subject</span>), <span class='no'>sleepstudy</span>)
<span class='fu'>icc</span>(<span class='no'>fit1</span>)</div><div class='output co'>#&gt; <span class='message'>Caution! ICC for random-slope-intercept models usually not meaningful. See 'Note' in `?icc`.</span></div><div class='output co'>#&gt; 
#&gt; Linear mixed model
#&gt;  Family: gaussian (identity)
#&gt; Formula: Reaction ~ Days + (Days | Subject)
#&gt; 
#&gt;   ICC (Subject): 0.483090</div><div class='input'>
<span class='no'>sleepstudy</span>$<span class='no'>mygrp</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='fl'>1</span>:<span class='fl'>45</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>180</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/lme4/topics/lmer'>lmer</a></span>(<span class='no'>Reaction</span> ~ <span class='no'>Days</span> + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>mygrp</span>) + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>Subject</span>), <span class='no'>sleepstudy</span>)
<span class='fu'>icc</span>(<span class='no'>fit2</span>)</div><div class='output co'>#&gt; 
#&gt; Linear mixed model
#&gt;  Family: gaussian (identity)
#&gt; Formula: Reaction ~ Days + (1 | mygrp) + (1 | Subject)
#&gt; 
#&gt;     ICC (mygrp): 0.006013
#&gt;   ICC (Subject): 0.589883</div><div class='input'>
<span class='no'>icc1</span> <span class='kw'>&lt;-</span> <span class='fu'>icc</span>(<span class='no'>fit1</span>)</div><div class='output co'>#&gt; <span class='message'>Caution! ICC for random-slope-intercept models usually not meaningful. See 'Note' in `?icc`.</span></div><div class='input'><span class='no'>icc2</span> <span class='kw'>&lt;-</span> <span class='fu'>icc</span>(<span class='no'>fit2</span>)

<span class='fu'>print</span>(<span class='no'>icc1</span>, <span class='kw'>comp</span> <span class='kw'>=</span> <span class='st'>"var"</span>)</div><div class='output co'>#&gt; 
#&gt; Linear mixed model
#&gt;  Family: gaussian (identity)
#&gt; Formula: Reaction ~ Days + (Days | Subject)
#&gt; 
#&gt;       Within-group-variance:  654.941
#&gt;      Between-group-variance:  612.090 (Subject)
#&gt;       Random-slope-variance:   35.072 (Subject.Days)
#&gt;  Slope-Intercept-covariance:    9.604 (Subject)
#&gt; Slope-Intercept-correlation:    0.066 (Subject)</div><div class='input'><span class='fu'>print</span>(<span class='no'>icc2</span>, <span class='kw'>comp</span> <span class='kw'>=</span> <span class='st'>"var"</span>)</div><div class='output co'>#&gt; 
#&gt; Linear mixed model
#&gt;  Family: gaussian (identity)
#&gt; Formula: Reaction ~ Days + (1 | mygrp) + (1 | Subject)
#&gt; 
#&gt;       Within-group-variance:  946.474
#&gt;      Between-group-variance:   14.082 (mygrp)
#&gt;      Between-group-variance: 1381.596 (Subject)</div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># compute ICC for Bayesian mixed model, with an ICC for each</span>
<span class='co'># sample of the posterior. The print()-method then shows</span>
<span class='co'># the median ICC as well as 89% HDI for the ICC.</span>
<span class='co'># Change interval with print-method:</span>
<span class='co'># print(icc(m, posterior = TRUE), prob = .5)</span>

<span class='kw'>if</span> (<span class='fu'>requireNamespace</span>(<span class='st'>"brms"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) {
  <span class='fu'>library</span>(<span class='no'>dplyr</span>)
  <span class='no'>sleepstudy</span>$<span class='no'>mygrp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>5</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>180</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
  <span class='no'>sleepstudy</span> <span class='kw'>&lt;-</span> <span class='no'>sleepstudy</span> <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='http://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>mygrp</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='http://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>mysubgrp</span> <span class='kw'>=</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>30</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/n.html'>n</a></span>(), <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))
  <span class='no'>m</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>brms</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/brms/topics/brm'>brm</a></span>(
    <span class='no'>Reaction</span> ~ <span class='no'>Days</span> + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>mygrp</span> / <span class='no'>mysubgrp</span>) + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>Subject</span>),
    <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>sleepstudy</span>
  )

  <span class='co'># by default, 89% interval</span>
  <span class='fu'>icc</span>(<span class='no'>m</span>)

  <span class='co'># show 50% interval</span>
  <span class='fu'>icc</span>(<span class='no'>m</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>.5</span>)

  <span class='co'># variances based on posterior predictive distribution</span>
  <span class='fu'>icc</span>(<span class='no'>m</span>, <span class='kw'>ppd</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
}
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Daniel Lüdecke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

